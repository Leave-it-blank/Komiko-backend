{"version":3,"sources":["index.jsx"],"names":["onPauseResumeCancelRetry","props","isUploaded","error","hideRetryButton","uppy","retryUpload","file","id","resumableUploads","hidePauseResumeButton","pauseResume","individualCancellation","hideCancelButton","removeFile","progressIndicatorTitle","i18n","isPaused","ProgressIndicatorButton","children","ProgressCircleContainer","ProgressCircle","progress","circleLength","Math","PI","FileProgress","uploadStarted","recoveredState","undefined","percentage"],"mappings":"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","sourcesContent":["import { h } from 'preact'\n\nfunction onPauseResumeCancelRetry (props) {\n  if (props.isUploaded) return\n\n  if (props.error && !props.hideRetryButton) {\n    props.uppy.retryUpload(props.file.id)\n    return\n  }\n\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    props.uppy.pauseResume(props.file.id)\n  } else if (props.individualCancellation && !props.hideCancelButton) {\n    props.uppy.removeFile(props.file.id)\n  }\n}\n\nfunction progressIndicatorTitle (props) {\n  if (props.isUploaded) {\n    return props.i18n('uploadComplete')\n  }\n\n  if (props.error) {\n    return props.i18n('retryUpload')\n  }\n\n  if (props.resumableUploads) {\n    if (props.file.isPaused) {\n      return props.i18n('resumeUpload')\n    }\n    return props.i18n('pauseUpload')\n  } if (props.individualCancellation) {\n    return props.i18n('cancelUpload')\n  }\n\n  return ''\n}\n\nfunction ProgressIndicatorButton (props) {\n  return (\n    <div className=\"uppy-Dashboard-Item-progress\">\n      <button\n        className=\"uppy-u-reset uppy-Dashboard-Item-progressIndicator\"\n        type=\"button\"\n        aria-label={progressIndicatorTitle(props)}\n        title={progressIndicatorTitle(props)}\n        onClick={() => onPauseResumeCancelRetry(props)}\n      >\n        {props.children}\n      </button>\n    </div>\n  )\n}\n\nfunction ProgressCircleContainer ({ children }) {\n  return (\n    <svg\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      width=\"70\"\n      height=\"70\"\n      viewBox=\"0 0 36 36\"\n      className=\"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle\"\n    >\n      {children}\n    </svg>\n  )\n}\n\nfunction ProgressCircle ({ progress }) {\n  // circle length equals 2 * PI * R\n  const circleLength = 2 * Math.PI * 15\n\n  return (\n    <g>\n      <circle\n        className=\"uppy-Dashboard-Item-progressIcon--bg\"\n        r=\"15\"\n        cx=\"18\"\n        cy=\"18\"\n        stroke-width=\"2\"\n        fill=\"none\"\n      />\n      <circle\n        className=\"uppy-Dashboard-Item-progressIcon--progress\"\n        r=\"15\"\n        cx=\"18\"\n        cy=\"18\"\n        transform=\"rotate(-90, 18, 18)\"\n        fill=\"none\"\n        stroke-width=\"2\"\n        stroke-dasharray={circleLength}\n        stroke-dashoffset={circleLength - ((circleLength / 100) * progress)}\n      />\n    </g>\n  )\n}\n\nexport default function FileProgress (props) {\n  // Nothing if upload has not started\n  if (!props.file.progress.uploadStarted) {\n    return null\n  }\n\n  // Green checkmark when complete\n  if (props.isUploaded) {\n    return (\n      <div className=\"uppy-Dashboard-Item-progress\">\n        <div className=\"uppy-Dashboard-Item-progressIndicator\">\n          <ProgressCircleContainer>\n            <circle r=\"15\" cx=\"18\" cy=\"18\" fill=\"#1bb240\" />\n            <polygon className=\"uppy-Dashboard-Item-progressIcon--check\" transform=\"translate(2, 3)\" points=\"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634\" />\n          </ProgressCircleContainer>\n        </div>\n      </div>\n    )\n  }\n\n  if (props.recoveredState) {\n    return undefined\n  }\n\n  // Retry button for error\n  if (props.error && !props.hideRetryButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      <ProgressIndicatorButton {...props}>\n        <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry\" width=\"28\" height=\"31\" viewBox=\"0 0 16 19\">\n          <path d=\"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z\" />\n          <path d=\"M7.9 3H10v2H7.9z\" />\n          <path d=\"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z\" />\n          <path d=\"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z\" />\n        </svg>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Pause/resume button for resumable uploads\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      <ProgressIndicatorButton {...props}>\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n          {\n            props.file.isPaused\n              ? <polygon className=\"uppy-Dashboard-Item-progressIcon--play\" transform=\"translate(3, 3)\" points=\"12 20 12 10 20 15\" />\n              : (\n                <g className=\"uppy-Dashboard-Item-progressIcon--pause\" transform=\"translate(14.5, 13)\">\n                  <rect x=\"0\" y=\"0\" width=\"2\" height=\"10\" rx=\"0\" />\n                  <rect x=\"5\" y=\"0\" width=\"2\" height=\"10\" rx=\"0\" />\n                </g>\n              )\n          }\n        </ProgressCircleContainer>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Cancel button for non-resumable uploads if individualCancellation is supported (not bundled)\n  if (!props.resumableUploads && props.individualCancellation && !props.hideCancelButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      <ProgressIndicatorButton {...props}>\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n          <polygon className=\"cancel\" transform=\"translate(2, 2)\" points=\"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12\" />\n        </ProgressCircleContainer>\n      </ProgressIndicatorButton>\n    )\n  }\n\n  // Just progress when buttons are disabled\n  return (\n    <div className=\"uppy-Dashboard-Item-progress\">\n      <div className=\"uppy-Dashboard-Item-progressIndicator\">\n        <ProgressCircleContainer>\n          <ProgressCircle progress={props.file.progress.percentage} />\n        </ProgressCircleContainer>\n      </div>\n    </div>\n  )\n}\n"]}